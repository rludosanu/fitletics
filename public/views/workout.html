<!DOCTYPE html>
{{=[[ ]]=}}
<html ng-app="my-app">
	<head>
		<title>MyApp Home</title>

    <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, user-scalable=no">

		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans|Quicksand:300,400,500,700" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />

		<link rel="stylesheet" href="/public/stylesheets/common.css" type="text/css" />
		<link rel="stylesheet" media="only screen and (max-width: 600px)" href="/public/stylesheets/xs-screen.css" type="text/css" />

		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-cookies.js"></script>
	</head>
  <body ng-controller="workoutList">
    <header id="header">
      <div class="layer">
				<a href="/dashboard">
        	<span class="fa fa-fw fa-arrow-left"></span>&nbsp;&nbsp;&nbsp;&nbsp;Workouts
				</a>
      </div>
    </header>

    <div id="list-container">
      <div id="workouts">
        <div class="layer" ng-repeat="workout in workouts">
					<a href="/workout/{{ workout.id }}/preview">
	          <div class="layer-content">
	            <div class="layer-thumbnail">
	              <img src="http://img.app-liv.jp.s3.amazonaws.com/icon/654810212/a2e9fc63ac821569853c1604232a718c.png" />
	            </div>
	            <div class="layer-infos">
	              <div class="name">{{ workout.name }}</div>
	              <div class="body">{{ workout.body }}</div>
	              <div class="duration"><span class="fa fa-fw fa-clock-o"></span>&nbsp;{{ workout.duration }}</div>
	              <div class="difficulty"><span class="fa fa-fw fa-flash"></span>&nbsp;{{ workout.difficulty }}</div>
	            </div>
	          </div>
					</a>
        </div>
      </div>
    </div>

		<script>
		(function() {
			var app = angular.module('my-app', ['ngCookies']);

			app.controller('workoutList', function($scope, $http) {
				$scope.workouts = [];

				$http({
					method: 'POST',
					url: 'http://192.168.1.26:3000/api/workout/read'
				})
				.then(result => {
					console.log(result);
					$scope.workouts = result.data;
				})
				.catch(error => {
					console.error(error);
				});
			});
		})();
		</script>
	</body>
</html>
